\documentclass[a4paper,12pt,oneside]{scrreprt}
\usepackage[latin1]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{ae,aecompl}
\usepackage[english]{babel}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{amsthm}
\usepackage{graphicx}
\usepackage{wrapfig}
\usepackage{ulem}
\usepackage{cancel}
\usepackage{float}
\usepackage{color}
\usepackage{titlesec}
\usepackage{geometry}
\geometry{verbose,a4paper,tmargin=25mm,bmargin=25mm,lmargin=15mm,rmargin=25mm}
\titlelabel{\thetitle.\quad}
\usepackage{tabularx}
\usepackage{booktabs}
\usepackage{paralist}
\usepackage{textcomp}
\usepackage[official]{eurosym}

\renewcommand{\rmdefault}{phv}
\renewcommand{\sfdefault}{phv}

% our OWN imports for our use
\usepackage{listings}
\lstdefinestyle{ourJavaStyle}{
	language=Java,
	%numbers=left,
	%numbersep=8pt,
	stepnumber=1,
	tabsize=2,
	showspaces=false,
	showstringspaces=false,
	basicstyle=\ttfamily\scriptsize,
	keywordstyle=\color{blue}\ttfamily,
	stringstyle=\color{red}\ttfamily,
	commentstyle=\color{green}\ttfamily,
	breaklines=true
}

\newcommand*{\sourcepath}{../code/src/main/java/de/rwth/swc/group10}
\newcommand*{\testpath}{../code/src/test/java/de/rwth/swc/group10}

\renewcommand{\thesubsection}{\thesection.\alph{subsection}}
\titleformat{\subsection}
{\normalfont\fontfamily{phv}\fontsize{14}{17}\bfseries}{\thesubsection}{1em}{}

\begin{document}
	
\begin{tabular}{ccc}
	\begin{large} \textbf{Prof. Lichter} \end{large} &
	
	\begin{minipage}[H]{3.5cm}
	\centering
		\begin{large} OOSC \end{large} \\
		\begin{large} WS 2019/2020 \end{large}
	\end{minipage} &
	
	\begin{minipage}[H]{4cm}
		\includegraphics[keepaspectratio,width=\textwidth,angle=0]{images/swc.png}
	\end{minipage} \\
Andreas Steffens, Konrad F\"ogen &  &  \\
& \begin{huge} \textbf{Submission 1} \end{huge}&  \\
& oosc@swc.rwth-aachen.de &  \\
& & \\
 % Hier drunter muessen die Daten noch angepasst werden
Issued: 21.10.2019 &
Submission: 04.11.2019 &
Discussion: 07.11.2019 \\
\end{tabular}
\newline \newline \newline
\centering
Submitted by Group 10

\begin{tabular}{ll}
	% TODO: enter your matriculation number accordingly
	Dominik Bittner, & 369202 \\
	Ulfet Cetin, & 391819\\
 	Philipp Hochmann,\\
 	Anar Orujov,\\
 	Ada Slupczynski, \\
 	(sorted on lastname basis)
\end{tabular}

\setcounter{chapter}{1} % Aktuelles Assigment
\section{Assignment: Reuse}

\paragraph{Assumptions:}
\begin{itemize}
    \item Four systems to develop (\textbf{L}ife-, \textbf{A}utomobile , \textbf{D}ental and \textbf{I}ndemnity insurance).
    \item Costs for new code are 100\euro/LOC.
    \item Costs for an error are 15.000\euro.
    \item The existing system has 50KLOC.
    \item "`[..] when re-using components, you reduce your effort by 80\% as in
    the case where you would re-implement from scratch [...]"' $\rightarrow$ reuse a component for 20\% of the development costs $\rightarrow$ RCR=0,2
    \item Changes for reusing the old system are about 4KLOC.
    \item Modifying would require 70\% more effort $\rightarrow$ RCWR=1,7
    \item Reusing 30\% for the life-, 50\% for the dental, 20\% for the indemnity and 10\% for the automobile insurance system
\end{itemize}

\begin{table}[h]
	\centering
	\resizebox{\textwidth}{!}{%
		\begin{tabular}{|l|r|}
			\hline
			Relative Cost for Reuse (RCR) & 0,2      \\ \hline
			Relative Code of Writing for Resue (RCWR) & 1,7      \\ \hline
			ErrorRate       & 1,2/KLOC \\ \hline
			CostPerError    & 15.000\euro  \\ \hline
			CostForNewCode  & 100\euro/LOC \\ \hline
			NewCodeForReuse & 4 KLOC   \\ \hline
		\end{tabular}%
	}
\end{table}

\paragraph{Calculation:}
\begin{equation*}
	ROI = \sum_i(RCA_i) - ADC = (RCA_L + RCA_D + RCA_I + RCA_A) - ADC
\end{equation*}
\begin{equation*}
	DCA_i = \text{Percent of usage} * 50 \text{ KLOC} * (1 - RCR) * 100 \text{ \euro/LOC}
\end{equation*}
\begin{equation*}
	MCA_i = \text{Percent of usage} * 50 \text{ KLOC} * 1,2/\text{KLOC} * 15000\text{\euro}
\end{equation*}

Life-insurance:
\begin{equation*}
	DCA_L = 30\% * 50 \text{ KLOC} * 0,8 * 100\text{ \euro/LOC} = 1200000 \text{\euro}
\end{equation*}
\begin{equation*}
	MCA_L = 30\% * 50 \text{ KLOC} * 1,2/\text{KLOC} * 15000\text{\euro} = 270000\text{\euro}
\end{equation*}
\begin{equation*}
	RCA_L = DCA_L + MCA_L = 1200000\text{\euro} + 270000\text{\euro} = 1470000\text{\euro}
\end{equation*}

Dental insurance:
\begin{equation*}
	DCA_D = 50\% * 50 \text{ KLOC} * 0,8 * 100\text{ \euro/LOC} = 2000000 \text{\euro}
\end{equation*}
\begin{equation*}
	MCA_D = 50\% * 50 \text{ KLOC} * 1,2/\text{KLOC} * 15000\text{\euro} = 450000\text{\euro}
\end{equation*}
\begin{equation*}
	RCA_D = DCA_D + MCA_D = 2000000\text{\euro} + 450000\text{\euro} = 2450000\text{\euro}
\end{equation*}

Indemnity insurance:
\begin{equation*}
	DCA_I = 20\% * 50 \text{ KLOC} * 0,8 * 100\text{ \euro/LOC} = 800000 \text{\euro}
\end{equation*}
\begin{equation*}
	MCA_I = 20\% * 50 \text{ KLOC} * 1,2/\text{KLOC} * 15000\text{\euro} = 180000\text{\euro}
\end{equation*}
\begin{equation*}
	RCA_I = DCA_I + MCA_I = 800000\text{\euro} + 180000\text{\euro} = 980000\text{\euro}
\end{equation*}

Automobile insurance:
\begin{equation*}
	DCA_A = 10\% * 50 \text{ KLOC} * 0,8 * 100\text{ \euro/LOC} = 400000 \text{\euro}
\end{equation*}
\begin{equation*}
	MCA_A = 10\% * 50 \text{ KLOC} * 1,2/\text{KLOC} * 15000\text{\euro} = 90000\text{\euro}
\end{equation*}
\begin{equation*}
	RCA_A = DCA_A + MCA_A = 400000\text{\euro} + 90000\text{\euro} = 490000\text{\euro}
\end{equation*}

\begin{equation*}
	ADC =  (1,7 - 1) * 4\text{ KLOC} * 100 \text{\euro/LOC} = 280000\text{\euro}
\end{equation*}
\begin{equation*}
	ROI = (1470000\text{\euro} + 2450000\text{\euro} + 980000\text{\euro} + 490000\text{\euro}) - 280000\text{\euro} = 5110000\text{\euro}
\end{equation*}

The result is a ROI of 5.110.000\euro. So there will be a big benefit of reusing the existing system. Due to this result I would make a clear reuse decision.


\section{Assignment: Design by Contract}


\begin{enumerate}[a)]
	\item Assume you are given the following interface for a new enhanced Date
	implementation. Please provide an implementation with Design by Contract in Java 	using Assertions or Valid4J (http://www.valid4j.org/).\\
	
%	\vspace{2em}
% enable those commented out parts to have the code included in the pdf
	% \lstinputlisting[style=ourJavaStyle]{\sourcepath /DateInterface.java}
	% \lstinputlisting[style=ourJavaStyle]{\sourcepath /OOSCDate.java}
	
	\item Make a robust implementation by using Defensive Programming.
	
	\item  Write a set of JUnit tests to check the functionality and show how DbC and Defensive Programming works in your case.
	
	\item Explain the use of Design by Contract and Defensive Programming in your
	implementation. Are there commonalities or conflicts?
\end{enumerate}

\section{Assignment: Design by Contract with Inheritance}
\end{document}
